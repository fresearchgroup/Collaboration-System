/**
* @license
* PramukhIME Javascript Library v4.0.0 -  http://www.vishalon.net/PramukhIME/JavaScriptLibrary.aspx
* Copyright (c) 2005-2017 Vishal Monpara (http://www.vishalon.net)
* 
* License:
* Please read license.html file for detailed license terms.
* 
* License Summary
*   Personal and Commercial use - Allowed (Except noted below)
*   Use in Software as a Service (SaaS), Distribution Application/Module/Add-on/Plugin, OEM- Not Allowed
*   Modify source code or any file? - Not Allowed
*   Hosting for sharing/distribution - Not Allowed
*/
!function(e){"use strict";function t(){var n,r,a,i={code:120,alt:!1,ctrl:!1},o={},s=this,u={},c="",h=!0,g=!1,f=0,l=!0,d=!1,m=!1,p=function(t,n){n?t.removeEventListener?(t.removeEventListener("keypress",s.a,!1),t.removeEventListener("keyup",s.b,!1),t.removeEventListener("touchend",s.reset,!1),e.PointerEvent?t.removeEventListener("pointerup",s.reset,!1):t.removeEventListener("mouseup",s.reset,!1),t.removeEventListener("focus",s.c,!0),t.removeEventListener("blur",s.d,!0),t.removeEventListener("compositionstart",s.e,!1),t.removeEventListener("compositionupdate",s.f,!1),t.removeEventListener("compositionend",s.g,!1),t.removeEventListener("input",s.h,!1),t.removeEventListener("paste",s.i,!1)):t.detachEvent&&(t.detachEvent("onkeypress",s.a),t.detachEvent("onkeyup",s.b),e.PointerEvent||t.detachEvent("onmouseup",s.reset),t.detachEvent("onfocusin",s.c),t.detachEvent("onfocusout",s.d),t.detachEvent("onpaste",s.i)):t.addEventListener?(t.addEventListener("keypress",s.a,!1),t.addEventListener("keyup",s.b,!1),t.addEventListener("touchend",s.reset,!1),e.PointerEvent?t.addEventListener("pointerup",s.reset,!1):t.addEventListener("mouseup",s.reset,!1),t.addEventListener("focus",s.c,!0),t.addEventListener("blur",s.d,!0),t.addEventListener("compositionstart",s.e,!1),t.addEventListener("compositionupdate",s.f,!1),t.addEventListener("compositionend",s.g,!1),t.addEventListener("input",s.h,!1),t.addEventListener("paste",s.i,!1)):t.attachEvent&&(t.attachEvent("onkeypress",s.a),t.attachEvent("onkeyup",s.b),e.PointerEvent||t.attachEvent("onmouseup",s.reset),t.attachEvent("onfocusin",s.c),t.attachEvent("onfocusout",s.d),t.attachEvent("onpaste",s.i))},v=function(){var e=[];this.j=function(t){var n,r,a=t.contentWindow?t.contentWindow.document:t.ownerDocument||t,i=1,o=0,s=0;if("undefined"==typeof t.k){for(o=e.length-1;o>=0;o--)if(n=e[o],n.n===a){if(1!==n.l){if(t===a)return;if("undefined"!=typeof t.k)for(s=n.m.length-1;s>=0;s--)if(n.m[s]===t.k)return;r=n;break}if(t===a)return;if("undefined"!=typeof t.k){for(s=n.m.length-1;s>=0;s--)if(n.m[s]===t.k){n.m.splice(s,1);break}return}break}"undefined"==typeof a.k&&(f++,a.k="pramukhid_"+f,p(a,!1)),t===a||t.contentWindow||(i=2,f++,t.k="pramukhid_"+f),"undefined"!=typeof r?r.m.push(t.k):(r={n:a,l:i,m:[]},2===i&&r.m.push(t.k),e.push(r))}else if(1===t.l)for(o=t.m.length-1;o>=0;o--)if(t.m[o]===t.k){t.m.splice(o,1);break}},this.o=function(t){for(var n,r=t.contentWindow?t.contentWindow.document:t.ownerDocument||t,a=e.length-1;a>=0;a--)if(n=e[a],n.n===r){if(1===n.l){if(t===r)return n=e.splice(a,1)[0],delete r.k,void p(r,!0);if("undefined"==typeof t.k)return f++,t.k="pramukhid_"+f,void n.m.push(t.k)}else{if(t===r)return;"undefined"!=typeof t.k&&(f++,t.k="pramukhid_"+f,n.m.push(t.k))}break}throw"Given element cannot be removed as it is not found"},this.p=function(t){for(var n,r,a=t.contentWindow?t.contentWindow.document:t.ownerDocument||t,i=e.length-1;i>=0;i--)if(n=e[i],n.n===a){if(1===n.l){if(t===a)return!(!a.designMode||"on"!==a.designMode.toLowerCase());if("undefined"!=typeof t.k)for(r=n.m.length-1;r>=0;r--)if(n.m[r]===t.k)return!1;if("undefined"==typeof t.tagName)return!0;switch(t.tagName.toLowerCase()){case"input":return"undefined"==typeof t.type?!0:!!/text|date|email|month|number|search|tel|time|url|week/.test(t.type.toLowerCase());case"textarea":return!0;case"button":case"select":return!1;default:return t.isContentEditable||!1}return!0}if("undefined"!=typeof t.k)for(r=n.m.length-1;r>=0;r--)if(n.m[r]===t.k)return!0;break}return!1}},k=new v,y=function(){this.setLanguage=function(e){},this.hasSettings=function(){return!1},this.getSettings=function(e){return[{language:"english",kb:"pramukhime"}]},this.setSettings=function(e){},this.canProcess=function(){return!1},this.process=function(e,t,n){return{letterConsumed:!1,removeCharacters:0,unicodeText:""}},this.reset=function(){},this.rectify=function(e){return e},this.hasHelp=function(){return!1},this.getHelp=function(){return"pramukhime-english.htm"},this.getHelpImage=function(){return"pramukhime-english.png"},this.getKeyboardName=function(){return"pramukhime"},this.getLanguage=function(){return"english"},this.getLanguageCode=function(){return"EN"},this.getLanguages=function(){return["english"]},this.supports=function(e){return"english"===e.toLowerCase()},this.resetSettings=function(){}};this.isSupplementaryChar=function(e){var t=e.charCodeAt(0);return t>=55296&&56319>=t},this.charCodeAt=function(e,t,n){if(n||this.isSupplementaryChar(e.charAt(t))){var r=e.charCodeAt(t),a=e.charCodeAt(t+1);return 1024*(r-55296)+a-56320+65536}return e.charCodeAt(t)},this.fromCharCode=function(e){if(e>65535){var t=Math.floor((e-65536)/1024)+55296,n=(e-65536)%1024+56320;return String.fromCharCode(t,n)}return String.fromCharCode(e)};var b=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1};this.addKeyboard=function(t,n){var r;if("function"==typeof t)r=t;else if("string"==typeof t&&(r=e[t],"function"!=typeof r))throw"PramukhIME.addKeyboard(): keyboardPlugin is not valid";return r&&(t=new r),u[t.getKeyboardName().toLowerCase()]=t,n&&this.setLanguage(n,t.getKeyboardName()),t},this.removeKeyboard=function(e){if(e){var t=e.toLowerCase(),a=!1;"undefined"!=typeof u[t]&&(n.kb===t&&(n=r=y.getLanguage(),a=!0),delete u[t],a&&this.setLanguage(n.language,n.kb))}},this.convert=function(e){if(!a.canProcess())return e;a.reset();var t,n,r,i,o,s=e.length,u=[];for(t=0;s>t;t++){for(o=e.charCodeAt(t),i=a.process(o,!1,!1),n=1;n<=i.removeCharacters;n++)u.pop();for(r=i.letterConsumed?i.unicodeText:e.charAt(t),n=0;n<r.length;n++)u.push(r.charAt(n))}return u.join("")},this.setToggleKey=function(e,t,n){i={code:e||0,ctrl:!!t,alt:!!n}},this.getToggleKey=function(){return{key:i.code,ctrl:i.ctrl,alt:i.alt}},this.getLanguage=function(){return{language:n.language,kb:n.kb}},this.getLastLanguage=function(){return{language:r.language,kb:r.kb}},this.getLanguageCode=function(){return a.getLanguageCode()},this.hasSettings=function(){return a.hasSettings()},this.getSetting=function(){return a.getSettings(n.language)},this.getSettings=function(){var e=[];for(var t in u)u.hasOwnProperty(t)&&u[t].hasSettings()&&(e=e.concat(u[t].getSettings("all")));return e},this.hasHelp=function(){return a.hasHelp()},this.getHelpImage=function(){return a.getHelpImage()},this.getHelp=function(){return a.getHelp()},this.setLanguage=function(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase()),e&&t&&u[t]&&(n&&n.kb===t&&n.language===e||(a=u[t],a.setLanguage(e),r=n,n={language:a.getLanguage(),kb:a.getKeyboardName()}),this.q("languagechange",{language:n.language,kb:n.kb,lastLanguage:r.language,lastKb:r.kb}))},this.setSettings=function(e){var t,n,r=e.length,a=0,i=!1,o={};for(a=0;r>a;a++)n=e[a],n.kb=n.kb.toLowerCase(),"undefined"==typeof o[n.kb]&&(o[n.kb]=[]),o[n.kb].push(n);for(var s in o)t=u[s],"undefined"!=typeof t&&t.hasSettings()&&(t.setSettings(o[s]),i=!0);i&&this.q("settingschange")},this.resetSettings=function(){var e=!1;for(var t in u)u.hasOwnProperty(t)&&u[t].hasSettings()&&(u[t].resetSettings(),e=!0);e&&this.q("settingschange")},this.on=function(e,t){if("languagechange"!==e&&"settingschange"!==e)throw"PramukhIME.on(): eventName is not valid";if("function"!=typeof t)throw"PramukhIME.on(): handler is not a valid callback function";o[e]||(o[e]=[]),o[e].push(t)},this.off=function(e,t){if("languagechange"!==e&&"settingschange"!==e)throw"PramukhIME.on(): eventName is not valid";if("function"!=typeof t)throw"PramukhIME.on(): handler is not a valid callback function";if(o[e])for(var n=o[e],r=n.length;r--;)n[r]===t&&n.splice(r,1)},this.q=function(e,t){if(o[e])for(var n=o[e],r=n.length,a=0;r>a;a++)n[a](t)},this.toggleLanguage=function(){this.setLanguage(r.language,r.kb)},this.reset=function(e){if(h){var t=e.target||e.srcElement||e;a.reset(),g&&(c=s.s(t).r)}},this.t=function(e,t,n,r){var a,i,o=e.length,s=t.length,u=0,c=o-1,h=s-1;if(r){for(a=Math.min(o,s,n);a>u&&e.charAt(u)===t.charAt(u);u++);i=e.substring(u,n)}else{for(a=Math.min(o-n,s-n),0>a&&(a=0),u=a;u>0&&e.charAt(c)===t.charAt(h);)c--,h--,u--;i=e.substring(n,o-(a-u))}return i},this.s=function(e){var t,n;if(!g)return{r:e.value||"",u:e.selectionStart||0};var r=e.ownerDocument||e,a=r.defaultView||r.parentWindow;n=a.getSelection?a.getSelection():r.selection,t=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():r.createRange();var i=t.startContainer;return i&&3===i.nodeType?{r:i.nodeValue,u:t.startOffset}:{r:"",u:0}},this.c=function(e){var t=e.target||e.srcElement;h=k.p(t),g=!/input|textarea/.test(t.nodeName.toLowerCase()),h&&(c=s.s(t).r,a.reset())},this.d=function(e){h=!1,c="",g=!0},this.h=function(e){var t=e.target||e.srcElement;return h?l?(s.v(t,!0),void(l=!0)):(d||(c=s.s(t).r),void(l=!0)):void(l=!0)},this.v=function(e,t){if(a.canProcess()){for(var n,r,i,o=s.s(e),u=o.r,h=o.u,f=s.t(u,c,h,t),l=f,d=l.length,p=(t?-1:1)*l.length,v=0,k=[];d>v;v++){for(n=a.process(l.charCodeAt(v),!1,!1),r=1;r<=n.removeCharacters;r++)0===k.length?p--:k.pop();for(i=n.letterConsumed?n.unicodeText:l.charAt(v),r=0;r<i.length;r++)k.push(i.charAt(r))}s.w(e,k.join(""),p,g)}c=s.s(e).r,m&&s.reset(e),m=!1},this.e=function(e){l=!1,d=!0},this.f=function(e){l=!1,d=!0},this.g=function(e){return h?(l=!0,d=!1,void(m=!0)):void(l=!1)},this.i=function(e){l=!1,d=!1},this.b=function(e){if(!h)return!0;var t=null==e.which?null!=e.charCode?e.charCode:e.keyCode:e.which;return t===i.code&&e.ctrlKey===i.ctrl&&e.altKey===i.alt?s.toggleLanguage():(t>=33&&40>=t||46===t||8===t||13===t)&&s.reset(e),!0},this.a=function(e){l=!1,d=!1;var t=e.target||e.srcElement,n=null==e.which?null!=e.charCode?e.charCode:e.keyCode:e.which;if(!h||0===n)return!0;var r,i="",o=0;return r=a.process(n,e.ctrlKey||e.metaKey,e.altKey),i=r.unicodeText,r.letterConsumed?(o=-r.removeCharacters,(i.length>0||0!==o)&&s.w(t,i,o,g),b(e),!1):!0},this.w=function(e,t,n,r){var a,i,o,s;if(a=e.ownerDocument||e,s=a.defaultView||a.parentWindow,i=s.getSelection?s.getSelection():a.selection,o=i.rangeCount>0?i.getRangeAt(0):i.createRange?i.createRange():a.createRange(),o.setStart){if(r){var u,c=o.startContainer,h=o.endContainer,g=o.startOffset,f=o.endOffset,l="",d="",m=0;if(3===c.nodeType)u=c,g+n>0&&(l=c.nodeValue.substring(0,g+n)),c===h&&(d=h.nodeValue.substring(f));else{var p=a.createTextNode("");c.childNodes.length>0?(u=c.childNodes[g],3===u.nodeType?l=u.nodeValue:1===u.nodeType&&(u=c.insertBefore(p,u))):u=c.appendChild(p)}l+=t,m=l.length,u.nodeValue=l+d,o.setStart(u,m),o.deleteContents(),o.setStart(u,m),o.setEnd(u,m),o.collapse(!0),i.removeAllRanges?i.removeAllRanges():i.empty&&i.empty(),i.addRange(o)}else if(0!==t.length||0!==n){var v=e.selectionStart+(0>n?n:0),k=e.scrollTop,y=e.value,b=e.scrollLeft,E=y.substring(0,v),L=y.substring(e.selectionEnd+(n>0?n:0),y.length);e.maxLength>=0&&E.length+t.length+L.length>e.maxLength&&(t=t.substring(0,e.maxLength-E.length-L.length)),e.value=E+t+L,v+=t.length,0>v&&(v=0),e.setSelectionRange(v,v),e.scrollTop=k,e.scrollLeft=b}}else o.moveStart("character",n),o.text=" "==o.text.charAt(o.text.length-1)?t+" ":t,o.collapse(!0),o.select()},this.enable=function(t){if(t||(t=[e.document]),!(t instanceof Array))throw"PramukhIME.enable(): elements not a valid array";var n,r,a=0;for(a=0;a<t.length;a++)if(n=t[a]){if("object"==typeof n)r=n;else{if("string"!=typeof n)throw"PramukhIME.enable(): array must contain either object or ids";if(r=e.document.getElementById(n),!r)throw"PramukhIME.enable(): no element found with id:"+n}k.j(r)}},this.disable=function(t){if(t||(t=[e.document]),!(t instanceof Array))throw"PramukhIME.disable(): elements not a valid array";var n,r,a=0;for(a=0;a<t.length;a++)if(n=t[a]){if("object"==typeof n)r=n;else{if("string"!=typeof n)throw"PramukhIME.enable(): array must contain either object or ids";if(r=e.document.getElementById(n),!r)throw"PramukhIME.enable(): no element found with id:"+n}k.o(r)}},this.createPramukhIME=function(){return new t},this.getKeyboard=function(e){return e||(e=n.kb),u[e]},a=new y,n={language:a.getLanguage(),kb:a.getKeyboardName()},r=n,this.addKeyboard(a)}e.pramukhIME=e.pramukhIME||new t}(window);